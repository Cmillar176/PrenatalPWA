<link rel="import" href="../bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="../bower_components/polymerfire/firebase-query.html">
<dom-module id="permissions-check">
    <firebase-auth id="auth" app-name="PrenatalPWA" user="{{user}}"> </firebase-auth>
    
    <!--    Getting access to users UserId-->
    <firebase-query id="adminQuery" app-name="PrenatalPWA" path="/admin/{{userid}}" data="{{}}"> </firebase-query>
    <firebase-query id="hcpQuery" app-name="PrenatalPWA" path="/hcp/{userid}" data="{{}}"> </firebase-query>
    <script>
        Polymer({
            is: 'permissions-check'
            , properties: {
                user: {
                    type: Object
                }
                , isAdmin: {
                    type: Boolean
                    , computed: '_checkAdmin(user)'
                    , notify: true
                }
                , isHCP: {
                    type: Boolean
                    , computed: '_checkHCP(user)'
                    , notify: true
                }
            }
            // Permission checks to ensure user has permission to access the create user forms
            
            , _checkAdmin: function (user) {
                console.log(user);
                console.log('checking admin');
              //  this.$.patientQuery.value();
                return true;
            }
            , _checkHCP: function (user) {
                console.log(user);
                console.log('checking hcp');
                // accessing value
                this.$.hcpQuery.value();
                return true;
            }
        });
    </script>
</dom-module>